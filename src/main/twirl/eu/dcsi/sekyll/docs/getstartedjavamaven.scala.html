@import eu.dcsi.sekyll.docs.svg.html._
@import eu.dcsi.sekyll.docs.LagomContext

@(implicit context: LagomContext)

@main(Some("Get started"))()() {
    <div class="fw-wrapper lgm-purple hero-banner">
        <div class="row">
            <div class="small-12 columns">
                <a href="@context.path/" class="logo"><img src="@context.path/images/logos/lagom-reverse.svg"></a>
                <h1>Using Lagom with Java and Maven</h1>
            </div>
        </div>
    </div>
    <article class="download-content">
        <section id="maven" class="fw-wrapper">
            <div class="row">
                <div class="small-12 columns">

                    

                    <p>
                        If you have the prerequisites installed and are familiar with Maven, create a Hello World
                        project using the procedures on this page. Otherwise, see
                        <a href="@context.path/documentation/@context.currentDocsVersion/java/JavaPrereqs.html">detailed
                        instructions</a> for help to set up the prerequisites and get started. Prerequisites for using Lagom with Maven include:
                  
                    
                    <ul>
                        <li>JDK 8</li>
                        <li>Maven 3.3 or higher</li>
                    </ul>
                      </p>
                      <p>Maven downloads dependencies and creates the project structure for you. It can take from a few seconds to a few minutes to complete. After confirming the prerequisites, open a console or command window and follow these steps:</p>
                    
                    <ol>
                      <li><p>Create a new directory for your project.</p></li>
                        <li>
                            <p>
                                Change into the new directory and enter the following (all on one line):
                            </p>

                            <pre class="prettyprint"><code class="language-sh">mvn archetype:generate -DarchetypeGroupId=com.lightbend.lagom -DarchetypeArtifactId=maven-archetype-lagom-java -DarchetypeVersion=@context.currentLagomVersion</code></pre>
                        
                        </li>
                        <li>
                            <p>Maven prompts you for:</p>
                            <ul>
                                <li>
                                    <code>groupId</code> &#8212; typically something like com.example.
                                </li>
                                <li>
                                    <code>artifactId</code> &#8212; becomes the top-level folder name, for example,
                                    my-first-project.
                                </li>
                                <li>
                                    <code>version</code> &#8212; the version for your project, press <b>Enter</b> to
                                    accept the default.
                                </li>
                                <li>
                                    <code>package</code> &#8212; defaults to the same value as the <code>groupId</code>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>
                                Enter <code>Y</code> to accept the values. Maven creates the project.
                            </p>
                        </li>
                        <li>
                            <p>
                                Change into the top-level project folder and run it:
                            </p>

                            <pre class="prettyprint"><code class="language-sh">mvn lagom:runAll</code></pre>

                            <p>
                                The <code>runAll</code> command takes a bit of time. It starts Hello World microservices and registers them in a
                                service directory. It also starts a Cassandra server and a web server.
                            </p>
                        </li>
                        <li>
                            <p>
                                When you see the message, `Services started, ...`, verify that the services are indeed up and running by invoking the <code>hello</code>
                                service endpoint from any HTTP client, such as a browser:
                                <a href="http://localhost:9000/api/hello/World" target="_blank">http://localhost:9000/api/hello/World</a>
                            </p>

                            <p>
                                The request returns the message <code>Hello, World!</code>.
                            </p>
                        </li>
                    </ol>

                    <p>
                        Congratulations! You've created and run your first Lagom system. See
                        <a href="@context.path/documentation/@context.currentDocsVersion/java/UnderstandHello.html">the
                        documentation</a> to understand your new project.
                    </p>

                    @*
                    <p>
                    <!-- TODO Check out the <a href="@context.path/example-apps.html">example applications</a>. -->
                    </p>
                    *@

                </div>

                <hr>
            </div>

        </section>

    </article>

}
